{"version":3,"sources":["components/Button/UniqeButton.module.css","components/Input/UniqeInput.module.css","App.module.css","contract/contract.js","components/Button/UniqeButton.js","components/Input/UniqeInput.js","contract/abi.js","App.js","index.js"],"names":["module","exports","web3","contract","UniqeButton","props","className","styles","Button","onClick","children","UniqeInput","style","width","height","Input","type","value","onChange","placeholder","onFocus","e","target","onBlur","abi","inputs","stateMutability","internalType","name","outputs","checkCompatible","a","window","ethereum","Web3","currentProvider","eth","Contract","enable","console","log","fundContract","total","methods","totalAmount","call","error","result","utils","fromWei","fund","amount","amountWei","toWei","toString","send","from","selectedAddress","gas","then","current","currentAmount","changeTotal","changeTotalAmount","widthdrawFunds","withdrawFunds","App","state","ratio","compatible","smartContractUrl","this","bg","card","marginTop","container","flex","marginLeft","toLocaleString","back","front","event","setState","isNaN","Number","href","rel","parseFloat","res","getAmount","setInterval","React","Component","NotCompatible","flexDirection","textAlign","margin","src","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ffb69b0c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"UniqeButton_Button__mjq2e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"UniqeInput_Input__3Ofo3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"App_bg__H7pzh\",\"card\":\"App_card__3tefE\",\"container\":\"App_container__1MQN3\",\"back\":\"App_back__3NYkX\",\"front\":\"App_front__3WQkq\"};","import { abi } from \"./abi\";\nimport Web3 from \"web3\";\n\nvar web3;\nvar contract;\nconst contractAddress = \"0x7ae28c580DccA503c7412CE94e844db6f75BE585\";\n\nconst checkCompatible = async () => {\n  // Modern dapp browsers...\n  if (window.ethereum || window.web3) {\n    web3 = new Web3(window.web3.currentProvider);\n    contract = new web3.eth.Contract(abi, contractAddress);\n    try {\n      // Request account access if needed\n      await window.ethereum.enable();\n      // Acccounts now exposed\n    } catch (error) {\n      // User denied account access...\n    }\n  }\n  // Non-dapp browsers...\n  else {\n    console.log(\n      \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n    );\n    return false;\n  }\n  return true;\n};\n\nconst total = async () => {\n  let result = await contract.methods\n    .totalAmount()\n    .call((error, result) => result);\n  return web3.utils.fromWei(result, \"ether\");\n};\n\nconst current = async () => {\n  let result = await contract.methods\n    .currentAmount()\n    .call((error, result) => result);\n  return web3.utils.fromWei(result, \"ether\");\n};\n\nconst fund = (amount) => {\n  let amountWei = web3.utils.toWei(amount.toString(), \"ether\");\n  contract.methods\n    .fund()\n    .send({\n      from: window.ethereum.selectedAddress,\n      value: amountWei,\n      gas: 3000000,\n    })\n    .then(() => console.log(\"Successfully funded!\"));\n};\n\nconst changeTotal = (amount) => {\n  let amountWei = web3.utils.toWei(amount.toString(), \"ether\");\n  contract.methods\n    .changeTotalAmount(amountWei)\n    .send({\n      from: window.ethereum.selectedAddress,\n      gas: 3000000,\n    })\n    .then(() => console.log(\"Successfully changed total amount!\"));\n};\n\nconst widthdrawFunds = () => {\n  contract.methods\n    .withdrawFunds()\n    .send({\n      from: window.ethereum.selectedAddress,\n      gas: 3000000,\n    })\n    .then(() => console.log(\"Successfull widthdrawal!\"));\n};\n\nconst fundContract = {\n  total,\n  fund,\n  current,\n  changeTotal,\n  widthdrawFunds,\n  checkCompatible,\n};\n\nexport default fundContract;\n","import React from \"react\";\nimport styles from \"./UniqeButton.module.css\";\n\nconst UniqeButton = props => {\n  return (\n    <button className={styles.Button} onClick={props.onClick}>\n      {props.children}\n    </button>\n  );\n};\n\nexport default UniqeButton;\n","import React from \"react\";\nimport styles from \"./UniqeInput.module.css\";\n\nconst UniqeInput = props => {\n  return (\n    <form>\n      <input\n        style={{ width: props.width, height: props.height }}\n        className={styles.Input}\n        type=\"text\"\n        value={props.value}\n        onChange={props.onChange}\n        placeholder={props.placeholder}\n        onFocus={e => (e.target.placeholder = \"\")}\n        onBlur={e => (e.target.placeholder = `${props.placeholder}`)}\n      ></input>\n    </form>\n  );\n};\n\nexport default UniqeInput;\n","export const abi = [\n  {\n    inputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"changeTotalAmount\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"currentAmount\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"fund\",\n    outputs: [],\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"totalAmount\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"widthdrawFunds\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n","import React from \"react\";\nimport styles from \"./App.module.css\";\nimport UniqeButton from \"./components/Button/UniqeButton\";\nimport UniqeInput from \"./components/Input/UniqeInput\";\nimport Contract from \"./contract/contract\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ratio: 0,\n      amount: \"\",\n      currentAmount: 0,\n      totalAmount: 1000,\n      compatible: true,\n    };\n    this.smartContractUrl =\n      \"http://use-util.cloud.milkomeda.com:4000/address/0x7ae28c580DccA503c7412CE94e844db6f75BE585/transactions\";\n  }\n\n  render() {\n    if (this.state.compatible)\n      return (\n        <div className={styles.bg}>\n          <div className={styles.card} style={{ width: \"50%\", height: \"50%\" }}>\n            <h1>Crowdfunding </h1>\n            <h3 style={{ marginTop: -8 }}>Milkomeda</h3>\n            <div className={styles.container}>\n              <div style={{ width: \"60%\", flex: 3, marginLeft: \"20px\" }}>\n                <h3>\n                  {this.state.currentAmount.toLocaleString()} ADA raised of{\" \"}\n                  {this.state.totalAmount.toLocaleString()} ADA\n                </h3>\n                <div className={styles.back}>\n                  <div\n                    className={styles.front}\n                    style={{ width: `${this.state.ratio}%` }}\n                  ></div>\n                </div>\n              </div>\n              <div style={{ flex: 1 }}></div>\n              <div style={{ marginTop: \"40px\", flex: 2 }}>\n                <UniqeInput\n                  onChange={(event) =>\n                    this.setState({ amount: event.target.value })\n                  }\n                  value={this.state.amount}\n                  placeholder=\"Ada amount\"\n                  height=\"30px\"\n                  width=\"150px\"\n                />\n                <div style={{ marginTop: \"20px\" }}></div>\n                <UniqeButton\n                  onClick={() => {\n                    if (\n                      !isNaN(Number(this.state.amount)) &&\n                      this.state.amount !== \"\"\n                    ) {\n                      Contract.fund(this.state.amount);\n                    }\n                  }}\n                >\n                  Fund\n                </UniqeButton>\n              </div>\n            </div>\n            <h5>\n              <a\n                href={this.smartContractUrl}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                View smart contract\n              </a>\n            </h5>\n          </div>\n        </div>\n      );\n    else return <NotCompatible />;\n  }\n  async getAmount() {\n    let current = await Contract.current();\n    let total = await Contract.total();\n    console.log(current);\n    console.log(total);\n    this.setState({\n      ratio: (current / total) * 100,\n      currentAmount: parseFloat(current),\n      totalAmount: parseFloat(total),\n    });\n    console.log(this.state.ratio);\n  }\n\n  componentDidMount() {\n    //check browser compatibility\n    Contract.checkCompatible().then((res) => {\n      if (res) {\n        this.getAmount();\n        setInterval(() => {\n          this.getAmount();\n        }, 2000);\n      } else this.setState({ compatible: false });\n    });\n  }\n}\n\nconst NotCompatible = () => {\n  return (\n    <div\n      className={styles.bg}\n      style={{\n        flexDirection: \"column\",\n        textAlign: \"center\",\n      }}\n    >\n      <h1>Your browser is not Dapps compatible</h1>\n      <a href=\"https://metamask.io\">\n        <div style={{ margin: \"0 20px\" }}>\n          <img\n            src=\"http://airdrop-review.com/wp-content/uploads/2018/05/metamask.png\"\n            width=\"100%\"\n          ></img>\n        </div>\n      </a>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}