(window["webpackJsonpreact-app"]=window["webpackJsonpreact-app"]||[]).push([[0],{190:function(t,e,n){t.exports={Button:"UniqeButton_Button__mjq2e"}},191:function(t,e,n){t.exports={Input:"UniqeInput_Input__3Ofo3"}},197:function(t,e,n){t.exports=n(504)},202:function(t,e,n){},217:function(t,e){},219:function(t,e){},221:function(t,e){},226:function(t,e){},227:function(t,e){},251:function(t,e){},253:function(t,e){},262:function(t,e){},264:function(t,e){},284:function(t,e){},302:function(t,e){},304:function(t,e){},322:function(t,e){},323:function(t,e){},395:function(t,e){},45:function(t,e,n){t.exports={bg:"App_bg__H7pzh",card:"App_card__3tefE",container:"App_container__1MQN3",back:"App_back__3NYkX",front:"App_front__3WQkq"}},504:function(t,e,n){"use strict";n.r(e);var a,r,o=n(10),u=n.n(o),c=n(189),i=n.n(c),s=(n(202),n(17)),l=n.n(s),m=n(54),p=n(4),d=n(5),f=n(11),h=n(8),w=n(12),b=n(45),g=n.n(b),y=n(190),v=n.n(y),E=function(t){return u.a.createElement("button",{className:v.a.Button,onClick:t.onClick},t.children)},A=n(191),x=n.n(A),k=function(t){return u.a.createElement("form",null,u.a.createElement("input",{style:{width:t.width,height:t.height},className:x.a.Input,type:"text",value:t.value,onChange:t.onChange,placeholder:t.placeholder,onFocus:function(t){return t.target.placeholder=""},onBlur:function(e){return e.target.placeholder="".concat(t.placeholder)}}))},_=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"changeTotalAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"fund",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"totalAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"widthdrawFunds",outputs:[],stateMutability:"nonpayable",type:"function"}],C=n(192),N=n.n(C),M=function(){var t=Object(m.a)(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.ethereum&&!window.web3){t.next=12;break}return a=new N.a(window.web3.currentProvider),r=new a.eth.Contract(_,"0x7ae28c580DccA503c7412CE94e844db6f75BE585"),t.prev=3,t.next=6,window.ethereum.enable();case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(3);case 10:t.next=14;break;case 12:return console.log("Non-Ethereum browser detected. You should consider trying MetaMask!"),t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,null,[[3,8]])}));return function(){return t.apply(this,arguments)}}(),j={total:function(){var t=Object(m.a)(l.a.mark(function t(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.methods.totalAmount().call(function(t,e){return e});case 2:return e=t.sent,t.abrupt("return",a.utils.fromWei(e,"ether"));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),fund:function(t){var e=a.utils.toWei(t.toString(),"ether");r.methods.fund().send({from:window.ethereum.selectedAddress,value:e,gas:3e6}).then(function(){return console.log("Successfully funded!")})},current:function(){var t=Object(m.a)(l.a.mark(function t(){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.methods.currentAmount().call(function(t,e){return e});case 2:return e=t.sent,t.abrupt("return",a.utils.fromWei(e,"ether"));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),changeTotal:function(t){var e=a.utils.toWei(t.toString(),"ether");r.methods.changeTotalAmount(e).send({from:window.ethereum.selectedAddress,gas:3e6}).then(function(){return console.log("Successfully changed total amount!")})},widthdrawFunds:function(){r.methods.withdrawFunds().send({from:window.ethereum.selectedAddress,gas:3e6}).then(function(){return console.log("Successfull widthdrawal!")})},checkCompatible:M},O=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(f.a)(this,Object(h.a)(e).call(this,t))).state={ratio:0,amount:"",currentAmount:0,totalAmount:1e3,compatible:!0},n.smartContractUrl="http://use-util.cloud.milkomeda.com:4000/address/0x7ae28c580DccA503c7412CE94e844db6f75BE585/transactions",n}return Object(w.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this;return this.state.compatible?u.a.createElement("div",{className:g.a.bg},u.a.createElement("div",{className:g.a.card,style:{width:"50%",height:"50%"}},u.a.createElement("h1",null,"Crowdfunding "),u.a.createElement("h3",{style:{marginTop:-8}},"Milkomeda"),u.a.createElement("div",{className:g.a.container},u.a.createElement("div",{style:{width:"60%",flex:3,marginLeft:"20px"}},u.a.createElement("h3",null,this.state.currentAmount.toLocaleString()," ADA raised of"," ",this.state.totalAmount.toLocaleString()," ADA"),u.a.createElement("div",{className:g.a.back},u.a.createElement("div",{className:g.a.front,style:{width:"".concat(this.state.ratio,"%")}}))),u.a.createElement("div",{style:{flex:1}}),u.a.createElement("div",{style:{marginTop:"40px",flex:2}},u.a.createElement(k,{onChange:function(e){return t.setState({amount:e.target.value})},value:this.state.amount,placeholder:"Ada amount",height:"30px",width:"150px"}),u.a.createElement("div",{style:{marginTop:"20px"}}),u.a.createElement(E,{onClick:function(){isNaN(Number(t.state.amount))||""===t.state.amount||j.fund(t.state.amount)}},"Fund"))),u.a.createElement("h5",null,u.a.createElement("a",{href:this.smartContractUrl,rel:"noopener noreferrer",target:"_blank"},"View smart contract")))):u.a.createElement(S,null)}},{key:"getAmount",value:function(){var t=Object(m.a)(l.a.mark(function t(){var e,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.current();case 2:return e=t.sent,t.next=5,j.total();case 5:n=t.sent,console.log(e),console.log(n),this.setState({ratio:e/n*100,currentAmount:parseFloat(e),totalAmount:parseFloat(n)}),console.log(this.state.ratio);case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var t=this;j.checkCompatible().then(function(e){e?(t.getAmount(),setInterval(function(){t.getAmount()},2e3)):t.setState({compatible:!1})})}}]),e}(u.a.Component),S=function(){return u.a.createElement("div",{className:g.a.bg,style:{flexDirection:"column",textAlign:"center"}},u.a.createElement("h1",null,"Your browser is not Dapps compatible"),u.a.createElement("a",{href:"https://metamask.io"},u.a.createElement("div",{style:{margin:"0 20px"}},u.a.createElement("img",{src:"http://airdrop-review.com/wp-content/uploads/2018/05/metamask.png",width:"100%"}))))},T=O;i.a.render(u.a.createElement(T,null),document.getElementById("root"))}},[[197,1,2]]]);
//# sourceMappingURL=main.ffb69b0c.chunk.js.map