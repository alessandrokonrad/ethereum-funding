{"version":3,"sources":["components/Button/UniqeButton.module.css","components/Input/UniqeInput.module.css","App.module.css","../node_modules/web3-eth-accounts/src sync","contract/contract.js","components/Button/UniqeButton.js","components/Input/UniqeInput.js","contract/abi.js","App.js","index.js"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","web3","contract","UniqeButton","props","className","styles","Button","onClick","children","UniqeInput","style","width","height","Input","type","value","onChange","placeholder","onFocus","target","onBlur","abi","constant","inputs","name","outputs","payable","stateMutability","checkCompatible","a","window","ethereum","Web3","currentProvider","eth","Contract","enable","console","log","fundContract","total","methods","totalAmount","call","error","result","utils","fromWei","fund","amount","amountWei","toWei","toString","send","from","selectedAddress","gas","then","current","currentAmount","changeTotal","changeTotalAmount","widthdrawFunds","withdrawFunds","App","state","ratio","compatible","smartContractUrl","this","bg","card","container","flex","marginLeft","toLocaleString","back","front","marginTop","event","setState","isNaN","Number","href","rel","res","getAmount","React","Component","NotCompatible","flexDirection","textAlign","margin","src","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.255d6b62.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"UniqeButton_Button__1soDM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"UniqeInput_Input__1qZr6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"App_bg__WEWg5\",\"card\":\"App_card__IS6Ed\",\"container\":\"App_container__24Zvo\",\"back\":\"App_back__1wT8u\",\"front\":\"App_front__ibrIy\"};","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 294;","import abi from \"./abi\";\r\nimport Web3 from \"web3\";\r\n\r\nvar web3;\r\nvar contract;\r\nconst contractAddress = \"0x218a7f73492434039e0b17fd0927a7b8c0875f3c\";\r\n\r\nconst checkCompatible = async () => {\r\n  // Modern dapp browsers...\r\n  if (window.ethereum || window.web3) {\r\n    web3 = new Web3(window.web3.currentProvider);\r\n    contract = new web3.eth.Contract(abi, contractAddress);\r\n    try {\r\n      // Request account access if needed\r\n      await window.ethereum.enable();\r\n      // Acccounts now exposed\r\n    } catch (error) {\r\n      // User denied account access...\r\n    }\r\n  }\r\n  // Non-dapp browsers...\r\n  else {\r\n    console.log(\r\n      \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\r\n    );\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nconst total = async () => {\r\n  let result = await contract.methods\r\n    .totalAmount()\r\n    .call((error, result) => result);\r\n  return web3.utils.fromWei(result, \"ether\");\r\n};\r\n\r\nconst current = async () => {\r\n  let result = await contract.methods\r\n    .currentAmount()\r\n    .call((error, result) => result);\r\n  return web3.utils.fromWei(result, \"ether\");\r\n};\r\n\r\nconst fund = amount => {\r\n  let amountWei = web3.utils.toWei(amount.toString(), \"ether\");\r\n  contract.methods\r\n    .fund(amountWei)\r\n    .send({\r\n      from: window.ethereum.selectedAddress,\r\n      value: amountWei,\r\n      gas: 3000000\r\n    })\r\n    .then(() => console.log(\"Successfully funded!\"));\r\n};\r\n\r\nconst changeTotal = amount => {\r\n  let amountWei = web3.utils.toWei(amount.toString(), \"ether\");\r\n  contract.methods\r\n    .changeTotalAmount(amountWei)\r\n    .send({\r\n      from: window.ethereum.selectedAddress,\r\n      gas: 3000000\r\n    })\r\n    .then(() => console.log(\"Successfully changed total amount!\"));\r\n};\r\n\r\nconst widthdrawFunds = () => {\r\n  contract.methods\r\n    .withdrawFunds()\r\n    .send({\r\n      from: window.ethereum.selectedAddress,\r\n      gas: 3000000\r\n    })\r\n    .then(() => console.log(\"Successfull widthdrawal!\"));\r\n};\r\n\r\nconst fundContract = {\r\n  total,\r\n  fund,\r\n  current,\r\n  changeTotal,\r\n  widthdrawFunds,\r\n  checkCompatible\r\n};\r\n\r\nexport default fundContract;\r\n","import React from \"react\";\r\nimport styles from \"./UniqeButton.module.css\";\r\n\r\nconst UniqeButton = props => {\r\n  return (\r\n    <button className={styles.Button} onClick={props.onClick}>\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default UniqeButton;\r\n","import React from \"react\";\r\nimport styles from \"./UniqeInput.module.css\";\r\n\r\nconst UniqeInput = props => {\r\n  return (\r\n    <form>\r\n      <input\r\n        style={{ width: props.width, height: props.height }}\r\n        className={styles.Input}\r\n        type=\"text\"\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        placeholder={props.placeholder}\r\n        onFocus={e => (e.target.placeholder = \"\")}\r\n        onBlur={e => (e.target.placeholder = `${props.placeholder}`)}\r\n      ></input>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default UniqeInput;\r\n","var abi = [\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: \"amount\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    name: \"changeTotalAmount\",\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: \"nonpayable\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [\r\n      {\r\n        name: \"amount\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    name: \"fund\",\r\n    outputs: [],\r\n    payable: true,\r\n    stateMutability: \"payable\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    constant: false,\r\n    inputs: [],\r\n    name: \"getFunds\",\r\n    outputs: [],\r\n    payable: false,\r\n    stateMutability: \"nonpayable\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    inputs: [],\r\n    payable: false,\r\n    stateMutability: \"nonpayable\",\r\n    type: \"constructor\"\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: \"currentAmount\",\r\n    outputs: [\r\n      {\r\n        name: \"\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: \"view\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    constant: true,\r\n    inputs: [],\r\n    name: \"totalAmount\",\r\n    outputs: [\r\n      {\r\n        name: \"\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    payable: false,\r\n    stateMutability: \"view\",\r\n    type: \"function\"\r\n  }\r\n];\r\n\r\nexport default abi;\r\n","import React from \"react\";\nimport styles from \"./App.module.css\";\nimport UniqeButton from \"./components/Button/UniqeButton\";\nimport UniqeInput from \"./components/Input/UniqeInput\";\nimport Contract from \"./contract/contract\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ratio: 0,\n      amount: \"\",\n      name: \"\",\n      currentAmount: 0,\n      totalAmount: 1,\n      compatible: true\n    };\n    this.smartContractUrl =\n      \"https://ropsten.etherscan.io/address/0x218a7f73492434039e0b17fd0927a7b8c0875f3c\";\n  }\n\n  render() {\n    if (this.state.compatible)\n      return (\n        <div className={styles.bg}>\n          <div className={styles.card} style={{ width: \"50%\", height: \"50%\" }}>\n            <h1>Crowdfunding</h1>\n            <div className={styles.container}>\n              <div style={{ width: \"60%\", flex: 3, marginLeft: \"20px\" }}>\n                <h3>\n                  {this.state.currentAmount.toLocaleString(\"de-DE\")} ETH raised\n                  of {this.state.totalAmount.toLocaleString(\"de-DE\")} ETH\n                </h3>\n                <div className={styles.back}>\n                  <div\n                    className={styles.front}\n                    style={{ width: `${this.state.ratio}%` }}\n                  ></div>\n                </div>\n              </div>\n              <div style={{ flex: 1 }}></div>\n              <div style={{ marginTop: \"40px\", flex: 2 }}>\n                <UniqeInput\n                  onChange={event =>\n                    this.setState({ amount: event.target.value })\n                  }\n                  value={this.state.amount}\n                  placeholder=\"Amount\"\n                  height=\"30px\"\n                  width=\"150px\"\n                />\n                <div style={{ marginTop: \"15px\" }}></div>\n                <UniqeInput\n                  onChange={event =>\n                    this.setState({ name: event.target.value })\n                  }\n                  value={this.state.name}\n                  placeholder=\"Name (optional)\"\n                  height=\"30px\"\n                  width=\"150px\"\n                />\n                <div style={{ marginTop: \"20px\" }}></div>\n                <UniqeButton\n                  onClick={() => {\n                    if (\n                      !isNaN(Number(this.state.amount)) &&\n                      this.state.amount !== \"\"\n                    ) {\n                      Contract.fund(this.state.amount);\n                    }\n                  }}\n                >\n                  Fund\n                </UniqeButton>\n              </div>\n            </div>\n            <h5>\n              <a\n                href={this.smartContractUrl}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                View smart contract\n              </a>\n            </h5>\n          </div>\n        </div>\n      );\n    else return <NotCompatible />;\n  }\n  async getAmount() {\n    let current = await Contract.current();\n    let total = await Contract.total();\n    console.log(current);\n    console.log(total);\n    this.setState({\n      ratio: (current / total) * 100,\n      currentAmount: current,\n      totalAmount: total\n    });\n    console.log(this.state.ratio);\n  }\n\n  componentDidMount() {\n    //check browser compatibility\n    Contract.checkCompatible().then(res => {\n      if (res) this.getAmount();\n      else this.setState({ compatible: false });\n    });\n  }\n}\n\nconst NotCompatible = () => {\n  return (\n    <div\n      className={styles.bg}\n      style={{\n        flexDirection: \"column\",\n        textAlign: \"center\"\n      }}\n    >\n      <h1>Your browser is not Dapps compatible</h1>\n      <a href=\"https://metamask.io\">\n        <div style={{ margin: \"0 20px\" }}>\n          <img\n            src=\"http://airdrop-review.com/wp-content/uploads/2018/05/metamask.png\"\n            width=\"100%\"\n          ></img>\n        </div>\n      </a>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}